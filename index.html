<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>angular-pixlive by vidinoti</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>angular-pixlive</h1>
        <p>Plugin for using PixLive in hybrid Ionic app</p>
        <p class="view"><a href="https://github.com/vidinoti/angular-pixlive">View the Project on GitHub <small>vidinoti/angular-pixlive</small></a></p>
        <ul>
          <li><a href="https://github.com/vidinoti/angular-pixlive/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/vidinoti/angular-pixlive/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/vidinoti/angular-pixlive">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="angular-pixlive" class="anchor" href="#angular-pixlive" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>angular-pixlive</h1>

<p><a href="https://travis-ci.org/vidinoti/angular-pixlive"><img src="https://travis-ci.org/vidinoti/angular-pixlive.svg?branch=master" alt="Build Status"></a></p>

<p>Plugin for using PixLive SDK in Ionic framework.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p>The documentation is available at <a href="http://vidinoti.github.io/angular-pixlive/docs">http://vidinoti.github.io/angular-pixlive/docs</a>.</p>

<h2>
<a id="using-the-augmented-reality-view" class="anchor" href="#using-the-augmented-reality-view" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using the Augmented Reality View</h2>

<p>Follow the following steps do add an augmented reality view in your Ionic project:</p>

<ul>
<li>
<p>Add the plugin to your Ionic project: </p>

<p><code>ionic add vidinoti/angular-pixlive</code></p>
</li>
<li>
<p>Add the Cordova plugin for PixLive SDK to your Ionic project:</p>

<div class="highlight highlight-source-shell"><pre>ionic plugin add cordova-plugin-pixlive  --variable LICENSE_KEY=MyLicenseKey \
    --variable PIXLIVE_SDK_IOS_LOCATION=<span class="pl-cce">\"</span>/home/PixLiveSDKiOS/VDARSDK.framework<span class="pl-cce">\"</span>
    --variable PIXLIVE_SDK_ANDROID_LOCATION=<span class="pl-cce">\"</span>/home/PixLiveSDKAndroid/vdarsdk-release.aar<span class="pl-cce">\"</span></pre></div>

<p>where the paths corresponds to the location for iOS and Android of the framework and AAR files. <strong>Do not remove the backslashes before and after the quotes (i.e. \") or the command will fail.</strong></p>
</li>
<li>
<p>Add JS Bundle file in you index.html: </p>

<p><code>&lt;script src="lib/angular-pixlive/js/PixLive.bundle.js"&gt;&lt;/script&gt;</code> </p>
</li>
<li>
<p>Add the <code>pixlive</code> angular module to be loaded with your app. It should like similar to:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>myApp<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>ionic<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>myApp.controllers<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>myApp.services<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>pixlive<span class="pl-pds">'</span></span>])</pre></div>
</li>
<li>
<p>Optionally set up push notification in your app.js, in the init part: </p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">if</span>(<span class="pl-c1">window</span>.<span class="pl-smi">cordova</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">window</span>.<span class="pl-smi">cordova</span>.<span class="pl-c1">plugins</span>) {
<span class="pl-c">//Enable notifications</span>
<span class="pl-smi">cordova</span>.<span class="pl-c1">plugins</span>.<span class="pl-smi">PixLive</span>.<span class="pl-en">setNotificationsSupport</span>(<span class="pl-c1">true</span>,<span class="pl-s"><span class="pl-pds">'</span>GoogleProjectID<span class="pl-pds">'</span></span>);
}</pre></div>

<p>where <code>GoogleProjectID</code> corresponds to the ID of the Google project you created in the Google Developer console.</p>
</li>
<li>
<p>You can also enable bookmark support (user will be able to bookmark some content. You can then create a view with all the bookmarked content): </p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">if</span>(<span class="pl-c1">window</span>.<span class="pl-smi">cordova</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">window</span>.<span class="pl-smi">cordova</span>.<span class="pl-c1">plugins</span>) {
<span class="pl-c">//Enable bookmark support</span>
<span class="pl-smi">cordova</span>.<span class="pl-c1">plugins</span>.<span class="pl-smi">PixLive</span>.<span class="pl-en">setBookmarkSupport</span>(<span class="pl-c1">true</span>);
}</pre></div>
</li>
<li>
<p>Add an Augmented Reality view in one of your Ionic views. Note that content inserted within the view will be displayed on top of the AR camera view.</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">ion</span><span class="pl-e">-view</span> <span class="pl-e">view-title</span>=<span class="pl-s"><span class="pl-pds">"</span>PixLive<span class="pl-pds">"</span></span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>background-color: transparent !important;<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">pxl</span><span class="pl-e">-view</span>&gt;
  <span class="pl-c">&lt;!-- You can insert other elements here to create overlays --&gt;</span>
&lt;/<span class="pl-ent">pxl</span><span class="pl-e">-view</span>&gt;
&lt;/<span class="pl-ent">ion</span><span class="pl-e">-view</span>&gt;</pre></div>

<p><strong>Warning</strong>: The camera view is inserted <strong>below</strong> your Ionic app. Therefore you need to make sure to have your view transparent where the camera should appear. As above, set the CSS property <code>background-color</code> to <code>transparent</code> on your ion-view as well as on your ion-tabs, if any.</p>
</li>
</ul>

<h2>
<a id="synchronizing-content-from-pixlive-maker" class="anchor" href="#synchronizing-content-from-pixlive-maker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Synchronizing content from PixLive Maker</h2>

<p>PixLive Maker is a platform that allows anyone to create content for your app embeding PixLive SDK.</p>

<p>Your app needs to be synchronized with PixLive Maker so that the content can be used within the app.</p>

<p>To do so, the plugin exposes a <code>PxlRemoteController</code> service allowing you to request synchronizations of the contexts / AR content. This can be done anywhere in your controllers or at app launch time. The plugin make sure that everything is ready before issuing the call so it's safe to use it anywhere.</p>

<p>Example of usage within a controller constructor:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">myApp</span>.<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>PixLiveCtrl<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">$ionicLoading</span>, <span class="pl-smi">$compile</span>, <span class="pl-smi">PxlRemoteController</span>, <span class="pl-smi">$ionicPopup</span>) {
    <span class="pl-c">// Trigger a synchronization with the tag *test*</span>
    <span class="pl-c">// You can pass an empty array to synchronize with all the contexts.</span>
    <span class="pl-smi">PxlRemoteController</span>.<span class="pl-en">synchronize</span>([<span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>]).<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">contexts</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Syncronization OK: <span class="pl-pds">'</span></span>);
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(contexts);
    }, <span class="pl-k">function</span>(<span class="pl-smi">reason</span>) {
        <span class="pl-smi">$ionicPopup</span>.<span class="pl-c1">alert</span>({
            title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>PixLive Synchronization Error<span class="pl-pds">'</span></span>,
            template<span class="pl-k">:</span> reason
        });
    }, <span class="pl-k">function</span>(<span class="pl-smi">progress</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Synchronization progress: <span class="pl-pds">'</span></span><span class="pl-k">+</span>progress);
    });
});</pre></div>

<h2>
<a id="directives-for-events" class="anchor" href="#directives-for-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Directives for events</h2>

<p>The following directives can be used <strong>as attribute</strong> on any elements to get the associated events from the PixLive SDK:</p>

<ul>
<li>pxlContextEnter</li>
<li>pxlContextExit</li>
<li>pxlCodeRecognize</li>
<li>pxlAnnotationsPresent</li>
<li>pxlAnnotationsHide</li>
<li>pxlSynchronizationRequired</li>
<li>pxlSensorTriggered</li>
<li>pxlSensorUpdate</li>
<li>pxlSensorUntriggered</li>
</ul>

<p>It can be used for example as follow in your HTML template:</p>

<pre><code>&lt;ion-view view-title="AR" style="background-color: transparent !important;"&gt;
  &lt;pxl-view pxl-context-enter="contextEnter"&gt;

  &lt;/pxl-view&gt;
&lt;/ion-view&gt;
</code></pre>

<p>This will call the <code>contextEnter</code> on the controller linked with the view when an image or a iBeacon is detected. The context ID is passed as a parameter to the contextEnter method.</p>

<p>See the directives' doc for more information.</p>

<h2>
<a id="how-to-build" class="anchor" href="#how-to-build" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to build</h2>

<pre><code>npm install -g grunt-cli
npm install
grunt
</code></pre>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/vidinoti">vidinoti</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
