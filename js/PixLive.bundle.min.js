"use strict";angular.module("pixlive",[]).directive("pxlView",["$timeout","$ionicPosition",function(a,b){return{restrict:"E",require:"^?ionNavView",priority:800,compile:function(c,d){function e(a,b,c,d){var e=a.$parent;a.$watch(function(){return(e.$hasHeader?" has-header":"")+(e.$hasSubheader?" has-subheader":"")+(e.$hasFooter?" has-footer":"")+(e.$hasSubfooter?" has-subfooter":"")+(e.$hasTabs?" has-tabs":"")+(e.$hasTabsTop?" has-tabs-top":"")},function(a,c){b.removeClass(c),b.addClass(a)})}function f(d,e,f,g){d.$on("$ionicView.beforeEnter",function(a,b){d.arView&&d.arView.beforeEnter()}),d.$on("$ionicView.afterEnter",function(f,g){d.arView?d.arView.afterEnter():window.cordova&&window.cordova.plugins&&window.cordova.plugins.PixLive&&(c.children().remove(),d.pixliveTimeout=a(function(){var a=b.offset(e),c=a.top,f=a.left,g=a.width,h=a.height;d.pixliveTimeout=null,d.arView=window.cordova.plugins.PixLive.createARView(f,c,g,h)},300))}),d.$on("$ionicView.beforeLeave",function(b,c){d.pixliveTimeout&&(a.cancel(d.pixliveTimeout),d.pixliveTimeout=null),d.arView&&d.arView.beforeLeave()}),d.$on("$ionicView.afterLeave",function(a,b){d.arView&&d.arView.afterLeave()}),d.$on("$destroy",function(){d.pixliveTimeout&&(a.cancel(d.pixliveTimeout),d.pixliveTimeout=null),d.arView&&d.arView.destroy()})}return c.addClass("scroll-content ionic-scroll scroll-content-false"),{pre:e,post:f}}}}]);