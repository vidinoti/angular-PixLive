"use strict";angular.module("pixlive",[]).directive("pxlView",["$timeout","$ionicPosition",function(a,b){return{restrict:"E",require:"^?ionNavView",priority:800,compile:function(c,d){function e(a,b,c,d){var e=a.$parent;a.$watch(function(){return(e.$hasHeader?" has-header":"")+(e.$hasSubheader?" has-subheader":"")+(e.$hasFooter?" has-footer":"")+(e.$hasSubfooter?" has-subfooter":"")+(e.$hasTabs?" has-tabs":"")+(e.$hasTabsTop?" has-tabs-top":"")},function(a,c){b.removeClass(c),b.addClass(a)})}function f(c,d,e,f){c.$on("$ionicView.beforeEnter",function(a,b){c.arView&&c.arView.beforeEnter()}),c.$on("$ionicView.afterEnter",function(e,f){c.arView?c.arView.afterEnter():c.pixliveTimeout=a(function(){var a=b.offset(d),e=a.top,f=a.left,g=a.width,h=a.height;c.pixliveTimeout=null,c.arView=window.cordova.plugins.PixLive.createARView(f,e,g,h)},300)}),c.$on("$ionicView.beforeLeave",function(b,d){c.pixliveTimeout&&(a.cancel(c.pixliveTimeout),c.pixliveTimeout=null),c.arView&&c.arView.beforeLeave()}),c.$on("$ionicView.afterLeave",function(a,b){c.arView&&c.arView.afterLeave()}),c.$on("$destroy",function(){c.pixliveTimeout&&(a.cancel(c.pixliveTimeout),c.pixliveTimeout=null),c.arView&&c.arView.destroy()})}return c.addClass("scroll-content ionic-scroll scroll-content-false"),{pre:e,post:f}}}}]);